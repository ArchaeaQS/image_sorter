# Image Sorter

画像を手動分類するデスクトップアプリケーションです。フォルダ内の画像をクリック操作で複数のクラスに効率的に分類できます。

## 特徴

- **手動画像分類**: 左クリック・右クリックで簡単にラベリング
- **直感的な UI**: グリッド表示で一目で分類状況を把握
- **カスタマイズ可能**: 分類クラスを自由に設定・並び替え
- **取り消し機能**: 分類結果を簡単に元に戻せる
- **スタンドアロン**: Python のインストール不要で動作

## インストール

### ビルド方法

配布ファイルはローカルでビルドして生成します：

```bash
# プロジェクトルートで実行
./build-distribution.sh     # Linux/macOS
# または
build-distribution.bat      # Windows
```

ビルド完了後、`frontend/release/` に以下のファイルが生成されます：

- **Windows**: `Image Sorter Setup 1.0.0.exe`
- **Linux**: `Image Sorter-1.0.0.AppImage`
- **macOS**: `Image Sorter-1.0.0.dmg` (Mac 環境でのみ生成可能)

## 使い方

### 1. 基本的な操作

1. **フォルダ選択**: 設定から分類したい画像が入ったフォルダを選択
2. **自動読み込み**: フォルダ選択後、自動的に画像がグリッド表示されます
3. **分類クラス設定**: 設定タブで分類先のクラス（フォルダ名）を設定
4. **手動ラベリング**: 各画像を左クリック（次のクラス）・右クリック（前のクラス）で分類
5. **分類実行**: 「分類開始」ボタンでラベル付けした画像を対応フォルダに移動
6. **結果確認**: 分類結果を確認し、必要に応じて「取り消し」で元に戻す

### 2. 設定画面

**設定タブ**では以下の項目を調整できます：

#### 分類クラス設定

- **クラス追加**: 「+」ボタンで新しい分類クラスを追加
- **クラス削除**: 「×」ボタンで不要なクラスを削除
- **並び替え**: クラス名をドラッグして順序を変更

#### 表示設定

- **グリッドサイズ**: 画像グリッドの行 × 列数を調整 (最小 3×3、最大 20×20)
- **サムネイルサイズ**: 画像サムネイルの大きさを調整 (50px〜300px)

### 3. 画像表示と操作

- **グリッド表示**: 設定したサイズ（最大 10×10）で画像を一覧表示
- **クリック操作**: 左クリックで次のクラス、右クリックで前のクラスに変更
- **色付きボーダー**: 各画像に割り当てられたクラスを色で表示
- **バッチ処理**: グリッドサイズ分ずつ順次表示し、分類完了後に次へ自動遷移

### 4. 分類処理

1. **手動ラベリング**: 各画像をクリックしてクラスを割り当て
2. **ファイル移動**: 「分類開始」ボタンでラベルに応じて画像ファイルをクラスフォルダに移動
3. **フォルダ作成**: 存在しないクラスフォルダは自動的に作成
4. **重複処理**: 同名ファイルがある場合は自動で番号付け（\_1, \_2 など）

### 5. 取り消し機能

- **ワンクリック取り消し**: 「取り消し」ボタンで直前の分類処理を元に戻し
- **ファイル復元**: 移動されたファイルを元の場所に戻します
- **履歴管理**: 複数回の取り消しに対応

## 設定の保存

アプリケーションの設定（分類クラス、グリッドサイズ、サムネイルサイズなど）は自動的に保存され、次回起動時に復元されます。

## トラブルシューティング

### アプリが起動しない

#### Windows

- Windows Defender やウイルス対策ソフトがアプリをブロックしている可能性があります
- ファイルを右クリック →「プロパティ」→「ブロックの解除」にチェックを入れる

#### macOS

- 「システム環境設定」→「セキュリティとプライバシー」で許可が必要な場合があります
- 初回実行時は右クリック →「開く」で実行してください

#### Linux

- 実行権限が設定されているか確認してください：
  ```bash
  chmod +x Image\ Sorter-1.0.0.AppImage
  ```

### 画像が表示されない

- 対応している画像形式か確認してください（.jpg, .jpeg, .png）
- ファイルパスに日本語などの特殊文字が含まれていないか確認してください
- フォルダのアクセス権限を確認してください

### 分類処理が失敗する

- 分類先フォルダの作成権限があるか確認してください
- ディスクの空き容量が十分にあるか確認してください

### パフォーマンスが遅い

- 大量の画像（1000 枚以上）を扱う場合は、グリッドサイズを小さくしてください
- サムネイルサイズを小さくすると表示が高速化されます
- PC のメモリ使用量が高い場合は、他のアプリケーションを終了してください

## サポート

### よくある質問

**Q: どのような画像形式に対応していますか？**
A: JPG/JPEG、PNG ファイルに対応しています。

**Q: どのように画像を分類しますか？**
A: 左クリックで次のクラス、右クリックで前のクラスに変更し、手動で各画像にクラスを割り当てます。色付きボーダーで現在の割り当てを確認できます。

**Q: オフラインで使用できますか？**
A: はい、インターネット接続は不要です。完全にオフラインで動作します。

**Q: 大量の画像を処理できますか？**
A: 可能ですが、処理時間とメモリ使用量が増加します。数千枚の画像でも処理可能ですが、グリッドサイズを調整することを推奨します。

### 技術サポート

バグ報告や機能要望は、[Issues](../../issues)ページまでお願いいたします。

---

**Image Sorter v1.0.0**
効率的な画像分類のためのデスクトップアプリケーション
